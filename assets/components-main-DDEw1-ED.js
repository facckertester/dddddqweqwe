var be=Object.defineProperty,fe=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var re=(e,n,s)=>n in e?be(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))ve.call(n,s)&&re(e,s,n[s]);if(ne)for(var s of ne(n))ye.call(n,s)&&re(e,s,n[s]);return e},O=(e,n)=>fe(e,me(n));import{r as w,j as o,R as H}from"./vendor-react-CUeQczFW.js";import{t,B as V,P as K,g as we,a as je,M as ie,f as g,b as ke,c as se,d as le,e as X,W as Me}from"./core-b497BxOD.js";import{a as ae}from"./components-ui-GPLDHM49.js";const q=e=>{var B,R;const n=t(1),s=e.clickUpgradeLevel||0,r=Math.min(s,15),h=t(2).pow(r),a=n.times(h),c=ae(e.totalRenownEarned);let d=a;c.gt(t(1))&&(d=a.times(c)),e.infiniteTowerLevel&&e.infiniteTowerLevel>0&&(d=d.times(t(1).plus(t(e.infiniteTowerLevel*.01))));const b=we(s);if(b>0){let p=t(0);V.forEach(x=>{const l=e.buildings[x.id]||t(0);l.gt(0)&&(p=p.plus(l.times(x.baseProduction)))});let M=p;c.gt(t(1))&&(M=p.times(c));let T=0;e.nationalProjects&&Object.values(e.nationalProjects).forEach(x=>T+=x.level||0);const j=t(1).plus(t(T*K));M=M.times(j);const k=((B=e.weather)==null?void 0:B.current)||"clear";let v=t(0);V.forEach(x=>{const l=e.buildings[x.id]||t(0);if(l.gt(0)){let f=t(1);k==="sunny"?(x.id==="peasant"||x.id==="field"||x.id==="stable"||x.id==="cathedral")&&(f=t(1.2)):k==="rainy"?(x.id==="silver_mine"||x.id==="alchemist"||x.id==="market"||x.id==="tavern")&&(f=t(1.2)):k==="stormy"?((x.id==="blacksmith"||x.id==="void_portal")&&(f=t(1.3)),(x.id==="field"||x.id==="stable")&&(f=t(.8))):k==="windy"&&(x.id==="market"||x.id==="castle"||x.id==="time_chamber")&&(f=t(1.15));const y=l.times(x.baseProduction);c.gt(t(1))?v=v.plus(y.times(c).times(j).times(f.minus(t(1)))):v=v.plus(y.times(j).times(f.minus(t(1))))}});const N=M.plus(v),A=t(1).plus(t(e.achievements.length*.02)),L=N.times(A);let P=L;e.globalIncomeMultiplier&&(P=L.times(t(e.globalIncomeMultiplier))),d=d.plus(P.times(b))}const E=t(1).plus(t(e.achievements.length*.02));if(d=d.times(E),e.globalIncomeMultiplier&&(d=d.times(t(e.globalIncomeMultiplier))),e.betaTesterIncomeMultiplier&&(d=d.times(t(e.betaTesterIncomeMultiplier))),e.godMode){let p=t(0);V.forEach(l=>{const f=e.buildings[l.id]||t(0);f.gt(0)&&(p=p.plus(f.times(l.baseProduction)))});let M=p;c.gt(t(1))&&(M=p.times(c));let T=0;e.nationalProjects&&Object.values(e.nationalProjects).forEach(l=>T+=l.level||0);const j=t(1).plus(t(T*K));M=M.times(j);const k=((R=e.weather)==null?void 0:R.current)||"clear";let v=t(0);V.forEach(l=>{const f=e.buildings[l.id]||t(0);if(f.gt(0)){let y=t(1);k==="sunny"?(l.id==="peasant"||l.id==="field"||l.id==="stable"||l.id==="cathedral")&&(y=t(1.2)):k==="rainy"?(l.id==="silver_mine"||l.id==="alchemist"||l.id==="market"||l.id==="tavern")&&(y=t(1.2)):k==="stormy"?((l.id==="blacksmith"||l.id==="void_portal")&&(y=t(1.3)),(l.id==="field"||l.id==="stable")&&(y=t(.8))):k==="windy"&&(l.id==="market"||l.id==="castle"||l.id==="time_chamber")&&(y=t(1.15));const W=f.times(l.baseProduction);c.gt(t(1))?v=v.plus(W.times(c).times(j).times(y.minus(t(1)))):v=v.plus(W.times(j).times(y.minus(t(1))))}});const N=M.plus(v),A=t(1).plus(t(e.achievements.length*.02)),L=N.times(A);let P=L;e.globalIncomeMultiplier&&(P=L.times(t(e.globalIncomeMultiplier)));const x=P.times(t(99999));d=d.plus(x)}return d},Ce=({message:e,type:n,x:s,y:r,onComplete:h})=>{const[a,c]=w.useState(!0);w.useEffect(()=>{const E=setTimeout(()=>{c(!1),setTimeout(h,300)},2e3);return()=>clearTimeout(E)},[h]);const d=()=>{switch(n){case"gold":return{background:"#fff3e0",border:"2px solid #ffa726",color:"#e65100"};case"win":return{background:"#e8f5e8",border:"2px solid #66bb6a",color:"#2e7d32"};case"lose":return{background:"#ffebee",border:"2px solid #ef5350",color:"#c62828"};case"damage":return{background:"#fff3e0",border:"2px solid #ff9800",color:"#e65100"};case"reward":return{background:"#e3f2fd",border:"2px solid #42a5f5",color:"#1565c0"};default:return{background:"#f5f5f5",border:"2px solid #9e9e9e",color:"#424242"}}},b=()=>{switch(n){case"gold":return"ðŸ’°";case"win":return"ðŸŽ‰";case"lose":return"ðŸ˜¢";case"damage":return"âš”ï¸";case"reward":return"ðŸ†";default:return"â„¹ï¸"}};return a?o.jsxs("div",{className:`floating-message ${a?"visible":"hidden"}`,style:O(C({position:"fixed",left:`${s}px`,top:`${r}px`},d()),{zIndex:9999,padding:"8px 12px",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",boxShadow:"2px 2px 8px rgba(0,0,0,0.3)",animation:"floatUp 2s ease-out forwards",transform:"translateX(-50%)",whiteSpace:"nowrap",pointerEvents:"none"}),children:[o.jsx("span",{style:{marginRight:"5px"},children:b()}),e]}):null},Ee=({gameState:e,onClose:n,onUpgrade:s})=>{const r=e.clickUpgradeLevel||0,h=je(r+1),a=e.gold.gte(h),c=r>=ie,d=q(e),b=O(C({},e),{clickUpgradeLevel:r+1}),E=q(b);return t(2).pow(Math.min(r,15)),t(2).pow(Math.min(r+1,15)),o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"400px",width:"90%"},children:[o.jsxs("div",{style:{padding:"15px",background:"var(--accent-color)",color:"var(--text-on-accent)"},children:[o.jsx("h3",{style:{margin:0,border:"none",color:"var(--gold-color)"},children:"âš¡ Royal Scepter"}),o.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.9rem",opacity:.9},children:"Enhance your clicking power with ancient royal magic."})]}),o.jsxs("div",{style:{padding:"20px",background:"var(--panel-bg)"},children:[o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsxs("div",{style:{color:"var(--text-color)",marginBottom:"10px"},children:[o.jsx("strong",{children:"Current Level:"})," ",r,"/",ie]}),o.jsxs("div",{style:{color:"var(--text-color)",marginBottom:"10px"},children:[o.jsx("strong",{children:"Current Power:"})," ",g(d)]}),!c&&o.jsxs("div",{style:{color:"var(--text-color)",marginBottom:"10px"},children:[o.jsx("strong",{children:"Next Power:"})," ",g(E)]})]}),c?o.jsx("div",{style:{color:"var(--gold-color)",textAlign:"center",fontWeight:"bold",padding:"15px",background:"var(--accent-color)",borderRadius:"4px"},children:"Maximum Level Reached!"}):o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsxs("div",{style:{color:a?"var(--gold-color)":"var(--error-color)",marginBottom:"10px",fontWeight:"bold"},children:["Cost: ",g(h)," gold"]}),o.jsx("button",{className:"btn",onClick:s,disabled:!a,style:{width:"100%",background:a?"var(--accent-color)":"var(--disabled-color)",borderColor:a?"var(--gold-color)":"var(--border-color)",cursor:a?"pointer":"not-allowed"},children:"Upgrade Scepter"})]})]}),o.jsx("div",{style:{padding:"15px",borderTop:"1px solid var(--border-color)",textAlign:"right",background:"var(--bg-color)"},children:o.jsx("button",{className:"btn",onClick:n,style:{background:"var(--accent-color)"},children:"Close"})})]})})},Be=({gameState:e,onClose:n,onUpgrade:s})=>{const r=e.offlineUpgradeLevel||0,h=ke(r+1),a=le(r),c=le(r+1),d=e.renown.gte(h),b=r>=se,E=B=>{const R=Math.floor(B/3600),p=Math.floor(B%3600/60);return R>0?`${R}h ${p}m`:`${p}m`};return o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"400px",width:"90%"},children:[o.jsxs("div",{style:{padding:"15px",background:"var(--accent-color)",color:"var(--text-on-accent)"},children:[o.jsx("h3",{style:{margin:0,border:"none",color:"var(--gold-color)"},children:"ðŸ’° Passive Income"}),o.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.9rem",opacity:.9},children:"Improve your kingdom's efficiency while you're away."})]}),o.jsxs("div",{style:{padding:"20px",background:"var(--panel-bg)"},children:[o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsxs("div",{style:{color:"var(--text-color)",marginBottom:"10px"},children:[o.jsx("strong",{children:"Current Level:"})," ",r,"/",se]}),o.jsxs("div",{style:{color:"var(--text-color)",marginBottom:"10px"},children:[o.jsx("strong",{children:"Current Effect:"})," ",(a.efficiency*100).toFixed(0),"% for ",E(a.duration)]}),!b&&o.jsxs("div",{style:{color:"var(--text-color)",marginBottom:"10px"},children:[o.jsx("strong",{children:"Next Effect:"})," ",(c.efficiency*100).toFixed(0),"% for ",E(c.duration)]}),o.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginTop:"10px",fontStyle:"italic"},children:"Higher levels increase both efficiency % and maximum production time."})]}),b?o.jsx("div",{style:{color:"var(--gold-color)",textAlign:"center",fontWeight:"bold",padding:"15px",background:"var(--accent-color)",borderRadius:"4px"},children:"Maximum Level Reached!"}):o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsxs("div",{style:{color:d?"var(--gold-color)":"var(--error-color)",marginBottom:"10px",fontWeight:"bold"},children:["Cost: ",g(h)," renown"]}),o.jsx("button",{className:"btn",onClick:s,disabled:!d,style:{width:"100%",background:d?"var(--accent-color)":"var(--disabled-color)",borderColor:d?"var(--gold-color)":"var(--border-color)",cursor:d?"pointer":"not-allowed"},children:"Upgrade Passive Income"})]})]}),o.jsx("div",{style:{padding:"15px",borderTop:"1px solid var(--border-color)",textAlign:"right",background:"var(--bg-color)"},children:o.jsx("button",{className:"btn",onClick:n,style:{background:"var(--accent-color)"},children:"Close"})})]})})},Re=H.memo(({gameState:e})=>{const[n,s]=w.useState(!1);if(X(e.infiniteTowerLevel||0).minus(t(1)).times(t(100)).floor().toNumber()<=0)return null;const a=(()=>{if(e.theme==="default"||!e.theme)return{background:"rgba(103, 58, 183, 0.6)",border:"2px solid rgba(103, 58, 183, 0.9)",text:"#7b1fa2",textShadow:"0 0 8px rgba(123, 31, 162, 0.8)"};switch(e.theme){case"dark":case"midnight":return{background:"rgba(103, 58, 183, 0.2)",border:"1px solid rgba(103, 58, 183, 0.6)",text:"#ba68c8",textShadow:"0 0 8px rgba(186, 104, 200, 0.4)"};default:return{background:"rgba(103, 58, 183, 0.6)",border:"2px solid rgba(103, 58, 183, 0.9)",text:"#7b1fa2",textShadow:"0 0 8px rgba(123, 31, 162, 0.8)"}}})();return o.jsx("div",{style:{padding:"5px 15px",background:a.background,border:a.border,borderRadius:"20px",display:"inline-block",cursor:"help"},"data-tooltip":`Infinite Tower Level: ${e.infiniteTowerLevel||0}
Bonus: +${g(X(e.infiniteTowerLevel||0).minus(t(1)).times(t(100)),e.numberFormat)}% to all income
Each tower floor provides +100% bonus
Build floors using Dark Matter Gold`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:o.jsxs("span",{style:{color:a.text,fontWeight:"bold",textShadow:a.textShadow,fontSize:"0.9rem",lineHeight:"1.2",display:"inline-block"},children:[o.jsxs("span",{className:"badge-compact-text",style:{display:n?"none":"inline-block"},children:["ðŸ—ï¸ +",g(X(e.infiniteTowerLevel||0).minus(t(1)).times(t(100)),e.numberFormat),"%"]}),o.jsxs("span",{className:"badge-full-text",style:{display:n?"inline-block":"none"},children:["ðŸ—ï¸ Tower: +",g(X(e.infiniteTowerLevel||0).minus(t(1)).times(t(100)),e.numberFormat),"%"]})]})})}),Te=H.memo(({gameState:e})=>{const[n,s]=w.useState(!1),r=()=>{let d=0;return e.nationalProjects&&Object.values(e.nationalProjects).forEach(b=>{d+=b.level*K}),t(d)};if(r().times(t(100)).floor().toNumber()<=0)return null;const c=(()=>{if(e.theme==="default"||!e.theme)return{background:"rgba(76, 175, 80, 0.6)",border:"2px solid rgba(76, 175, 80, 0.9)",text:"#1b5e20",textShadow:"0 0 8px rgba(27, 94, 32, 0.8)"};switch(e.theme){case"dark":case"midnight":return{background:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.6)",text:"#81c784",textShadow:"0 0 8px rgba(129, 199, 132, 0.4)"};default:return{background:"rgba(76, 175, 80, 0.6)",border:"2px solid rgba(76, 175, 80, 0.9)",text:"#1b5e20",textShadow:"0 0 8px rgba(27, 94, 32, 0.8)"}}})();return o.jsx("div",{style:{padding:"5px 15px",background:c.background,border:c.border,borderRadius:"20px",display:"inline-block",cursor:"help"},"data-tooltip":`National Projects Bonus: +${g(r().times(t(100)),e.numberFormat)}%
Each project level provides +${K*100}% bonus
Build projects in the Empire menu
Projects enhance all building production`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:o.jsxs("span",{style:{color:c.text,fontWeight:"bold",textShadow:c.textShadow,fontSize:"0.9rem",lineHeight:"1.2",display:"inline-block"},children:[o.jsxs("span",{className:"badge-compact-text",style:{display:n?"none":"inline-block"},children:["ðŸ—ï¸ +",g(r().times(t(100)),e.numberFormat),"%"]}),o.jsxs("span",{className:"badge-full-text",style:{display:n?"inline-block":"none"},children:["ðŸ—ï¸ Projects: +",g(r().times(t(100)),e.numberFormat),"%"]})]})})}),Le=H.memo(({gameState:e})=>{const[n,s]=w.useState(!1),r=e.achievements.length*2;if(r<=0)return null;const a=(()=>{if(e.theme==="default"||!e.theme)return{background:"rgba(255, 152, 0, 0.6)",border:"2px solid rgba(255, 152, 0, 0.9)",text:"#bf360c",textShadow:"0 0 8px rgba(191, 54, 12, 0.8)"};switch(e.theme){case"dark":case"midnight":return{background:"rgba(255, 152, 0, 0.25)",border:"1px solid rgba(255, 152, 0, 0.7)",text:"#ffb74d",textShadow:"0 0 8px rgba(255, 183, 77, 0.4)"};default:return{background:"rgba(255, 152, 0, 0.6)",border:"2px solid rgba(255, 152, 0, 0.9)",text:"#bf360c",textShadow:"0 0 8px rgba(191, 54, 12, 0.8)"}}})();return o.jsx("div",{style:{padding:"5px 15px",background:a.background,border:a.border,borderRadius:"20px",display:"inline-block",cursor:"help"},"data-tooltip":`Achievements Bonus: +${r}%
Achievements: ${e.achievements.length} unlocked
Each achievement provides +2% bonus
Complete various challenges to earn achievements
Achievements give permanent income bonuses`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:o.jsxs("span",{style:{color:a.text,fontWeight:"bold",textShadow:a.textShadow,fontSize:"0.9rem",lineHeight:"1.2",display:"inline-block"},children:[o.jsxs("span",{className:"badge-compact-text",style:{display:n?"none":"inline-block"},children:["ðŸ† +",r,"%"]}),o.jsxs("span",{className:"badge-full-text",style:{display:n?"inline-block":"none"},children:["ðŸ† Achievements: +",r,"%"]})]})})}),ze=H.memo(({renown:e,totalRenownEarned:n,numberFormat:s,currentTheme:r})=>{const[h,a]=w.useState(!1),c=ae(n).minus(t(1)).times(t(100)).floor().toNumber();if(c<=0)return null;const b=(()=>{if(r==="default"||!r)return{background:"rgba(103, 58, 183, 0.6)",border:"2px solid rgba(103, 58, 183, 0.9)",text:"#311b92",textShadow:"0 0 8px rgba(49, 27, 146, 0.8)"};switch(r){case"dark":return{background:"rgba(103, 58, 183, 0.2)",border:"1px solid rgba(103, 58, 183, 0.6)",text:"#9575cd",textShadow:"0 0 8px rgba(149, 117, 205, 0.4)"};case"midnight":return{background:"rgba(103, 58, 183, 0.2)",border:"1px solid rgba(103, 58, 183, 0.6)",text:"#9575cd",textShadow:"0 0 8px rgba(149, 117, 205, 0.4)"};default:return{background:"rgba(103, 58, 183, 0.6)",border:"2px solid rgba(103, 58, 183, 0.9)",text:"#311b92",textShadow:"0 0 8px rgba(49, 27, 146, 0.8)"}}})();return o.jsx("div",{style:{padding:"5px 15px",background:b.background,border:b.border,borderRadius:"20px",display:"inline-block",cursor:"help"},"data-tooltip":`Total Renown: ${g(n,s)}
Bonus: +${c}% to all income
Renown is earned by prestiging and provides permanent bonuses`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:o.jsxs("span",{style:{color:b.text,fontWeight:"bold",textShadow:b.textShadow,fontSize:"0.9rem",lineHeight:"1.2",display:"inline-block"},children:[o.jsxs("span",{className:"badge-compact-text",style:{display:h?"none":"inline-block"},children:["ðŸ‘‘ +",c,"%"]}),o.jsxs("span",{className:"badge-full-text",style:{display:h?"inline-block":"none"},children:["ðŸ‘‘ Total Renown: ",g(n,s)," +",c,"%"]})]})})}),Ae=H.memo(({gameState:e,gps:n,onClick:s,onEventInteract:r,onOpenTavern:h,onOpenPrestige:a,onOpenSettings:c,onOpenStatistics:d,onOpenLeaderboard:b,onOpenEmpire:E,onUpgradeClickPower:B,onUpgradeOffline:R,isIdle:p})=>{var Z,ee,oe;const[M,T]=w.useState([]),[j,k]=w.useState(!1),[v,N]=w.useState([]),[A,L]=w.useState(!1),[P,x]=w.useState(!1),l=w.useRef(null),[f,y]=w.useState({visible:!1,x:0,y:0,content:""}),W=e.interface||{showFloatingText:!0,showWeatherWidget:!0},G=(i,u,m,z)=>{const I=Date.now()+Math.random();N(S=>[...S,{id:I,message:i,type:u,x:m,y:z}])},ce=i=>{N(u=>u.filter(m=>m.id!==i))},_=(i,u)=>{const m=i.currentTarget.getBoundingClientRect();y({visible:!0,x:m.left+m.width/2,y:m.top,content:u})},D=()=>{y({visible:!1,x:0,y:0,content:""})},de=i=>{var u,m,z;if(W.showFloatingText){const I=(u=l.current)==null?void 0:u.getBoundingClientRect(),S=(z=(m=l.current)==null?void 0:m.parentElement)==null?void 0:z.getBoundingClientRect();if(I&&S){const J=i.clientX-S.left+(Math.random()*40-20),F=i.clientY-S.top+(Math.random()*40-20),ue=q(e),ge="+"+g(ue,e.numberFormat),te={id:Date.now(),x:J,y:F,val:ge};T(Y=>[...Y,te]),setTimeout(()=>{T(Y=>Y.filter(he=>he.id!==te.id))},1e3)}}s(i)},$=Me[((Z=e.weather)==null?void 0:Z.current)||"clear"],U={transition:"transform 0.8s ease-in-out, width 0.8s ease-in-out, height 0.8s ease-in-out, margin 0.8s ease-in-out, position 0.8s ease-in-out"},pe=C(p?{position:"fixed",bottom:"120px",right:"30px",transform:"scale(0.8)",transformOrigin:"bottom right",textAlign:"right",zIndex:100}:{transform:"scale(1)",marginBottom:"-4.5rem",zIndex:10,textAlign:"center"},U),xe=C(p?{width:"80px",height:"80px",fontSize:"2rem",position:"fixed",bottom:"30px",right:"30px",borderRadius:"50%",zIndex:100}:{width:"200px",height:"200px",fontSize:"5rem",borderRadius:"50%",position:"relative",zIndex:5,margin:"0.5rem auto 0 auto"},U),Q={opacity:p?0:1,transition:"opacity 0.5s ease-in-out",pointerEvents:p?"none":"auto"};return o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",padding:"var(--panel-padding)",height:"100%",overflow:"hidden"},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[W.showWeatherWidget&&o.jsxs("div",{style:C({position:"absolute",top:"10px",left:"10px",zIndex:20,background:$.color,padding:"8px 12px",borderRadius:"20px",border:"2px solid rgba(0,0,0,0.1)",boxShadow:"2px 2px 5px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"8px",cursor:"help"},Q),"data-tooltip":`${$.name}: ${$.description}`,children:[o.jsx("span",{style:{fontSize:"1.5rem"},children:$.icon}),o.jsxs("div",{style:{textAlign:"left",lineHeight:"1.1"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9rem",color:"#222"},children:$.name}),o.jsxs("div",{style:{fontSize:"0.7rem",color:"#444"},children:[t(Number(((ee=e.weather)==null?void 0:ee.timeLeft)||0)).ceil().toString(),"s remaining"]})]})]}),o.jsxs("div",{style:C({position:"absolute",top:"10px",right:"10px",zIndex:20,display:"flex",gap:"5px"},Q),children:[o.jsx("button",{onClick:b,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",opacity:.8,color:"var(--text-color)",transition:"all 0.2s ease"},title:"Leaderboard (Available for all players)",children:"ðŸ†"}),o.jsx("button",{onClick:d,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",opacity:.7,color:"var(--text-color)"},title:"Statistics",children:"ðŸ“Š"}),o.jsx("button",{onClick:c,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",opacity:.7,color:"var(--text-color)"},title:"Kingdom Settings",children:"âš™ï¸"})]}),o.jsxs("div",{style:pe,children:[o.jsx("div",{style:{fontSize:"1rem",color:p?"var(--text-color)":"var(--text-secondary)",marginBottom:"5px",textTransform:"uppercase",letterSpacing:"2px",textShadow:p?"1px 1px 2px #000":"none"},children:"Royal Treasury"}),o.jsx("div",{style:{fontSize:"3rem",fontFamily:"var(--font-main)",color:"var(--text-color)",textShadow:p?"2px 2px 4px #000":"2px 2px 0px rgba(255, 215, 0, 0.4)"},children:g(e.gold,e.numberFormat)}),o.jsxs("div",{style:{marginTop:"5px",fontSize:"1.1rem",color:p?"#90ee90":"var(--success-color)",fontStyle:"italic",textShadow:p?"1px 1px 2px #000":"none"},children:["+",g(n,e.numberFormat)," gold / sec"]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",marginTop:"15px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",justifyContent:"center"},children:[o.jsx(ze,{renown:e.renown,totalRenownEarned:e.totalRenownEarned,numberFormat:e.numberFormat,currentTheme:e.theme}),o.jsx(Re,{gameState:e})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",justifyContent:"center"},children:[o.jsx(Te,{gameState:e}),o.jsx(Le,{gameState:e})]})]})]}),o.jsxs("div",{style:{position:"relative",marginBottom:p?0:"3rem",display:"flex",justifyContent:"center",alignItems:"center"},children:[o.jsxs("div",{className:"magnetic-container",style:{position:"relative"},children:[o.jsx("button",{ref:l,className:`main-button ${p?"idle":""}`,style:O(C({},xe),{display:"flex",alignItems:"center",justifyContent:"center",outline:"none",color:"#5d4037",cursor:"pointer",overflow:"hidden",position:"relative",zIndex:2}),onClick:de,children:o.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",lineHeight:1,marginTop:"-10px"},children:"ðŸ‘‘"})}),o.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",pointerEvents:"none",zIndex:1},children:[e.buildings.field&&e.buildings.field.gt(t(0))&&o.jsx("button",{className:"btn scepter-btn",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) ${j?"translateX(128px)":"translate(0px, 0px)"}`,transition:"all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",width:"60px",height:"60px",borderRadius:"50%",background:"var(--accent-color)",borderColor:"var(--gold-color)",fontSize:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onClick:()=>{L(!0)},onMouseEnter:i=>_(i,`âš¡ Royal Scepter
Upgrade your click power
Each level doubles click strength
Higher levels add GPS bonus`),onMouseLeave:D,children:"âš¡"}),e.buildings.field&&e.buildings.field.gt(t(0))&&e.renown.gt(t(0))&&o.jsx("button",{className:"btn passive-income-btn",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) ${j?"translateX(-128px)":"translate(0px, 0px)"}`,transition:"all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",width:"60px",height:"60px",borderRadius:"50%",background:"var(--accent-color)",borderColor:"var(--gold-color)",fontSize:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onClick:()=>{x(!0)},onMouseEnter:i=>_(i,`ðŸ’° Passive Income
Upgrade offline earnings
Generate gold while away
Based on your current GPS`),onMouseLeave:D,children:"ðŸ’°"}),((oe=e.buildings.tavern)==null?void 0:oe.gt(t(0)))&&o.jsx("button",{className:"btn tavern-btn",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) ${j?"translate(-91px, 91px)":"translate(0px, 0px)"}`,transition:"all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",width:"60px",height:"60px",borderRadius:"50%",fontSize:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onClick:h,onMouseEnter:i=>_(i,`ðŸº Tavern
Visit the local tavern
Play mini-games
Earn bonus gold and rewards`),onMouseLeave:D,children:"ðŸº"}),(e.totalGold.gt(t(5e5))||e.renown.gt(t(0)))&&o.jsx("button",{className:"btn legacy-btn",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) ${j?"translate(91px, 91px)":"translate(0px, 0px)"}`,transition:"all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",width:"60px",height:"60px",borderRadius:"50%",background:"var(--accent-color)",fontSize:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onClick:a,onMouseEnter:i=>_(i,`ðŸ‘‘ Legacy & Prestige
Reset your kingdom for renown
Earn permanent bonuses
Unlock new features`),onMouseLeave:D,children:"ðŸ‘‘"})]})]}),!p&&M.map(i=>o.jsx("div",{className:"floating-text",style:{left:i.x,top:i.y},children:i.val},i.id))]}),!p&&e.event&&e.event.type==="dragon"&&o.jsx("div",{className:"dragon-event",onMouseDown:i=>{try{if(!e.event)return;const u=i.currentTarget.getBoundingClientRect(),m=t(e.event.hp||10),z=t(e.event.maxHp||10),I=m.lte(t(1)),J=(n||t(1)).times(t(30));if(I)try{G(`+${g(J.floor(),e.numberFormat)} gold!`,"reward",u.left+u.width/2,u.top)}catch(F){console.error("Error adding floating message:",F)}else try{G(`-${g(t(1),e.numberFormat)} HP`,"damage",u.left+u.width/2,u.top)}catch(F){console.error("Error adding floating message:",F)}r(e.event)}catch(u){console.error("Error clicking dragon:",u)}},children:"ðŸ‰"}),!p&&e.event&&e.event.type==="merchant"&&o.jsxs("div",{style:{position:"absolute",right:"20px",top:"100px",background:"#fff3e0",padding:"10px",border:"2px solid orange",zIndex:100,cursor:"pointer",animation:"pop 0.5s",borderRadius:"8px",boxShadow:"2px 2px 5px rgba(0,0,0,0.2)"},onClick:i=>{const u=i.currentTarget.getBoundingClientRect(),m=n.times(t(10));G(`+${g(m.floor(),e.numberFormat)} gold`,"gold",u.left+u.width/2,u.top),r(e.event)},children:[o.jsx("div",{style:{fontSize:"1.5rem",textAlign:"center"},children:"ðŸ‘³"}),o.jsx("div",{style:{fontWeight:"bold",color:"#000"},children:"Merchant"}),o.jsx("small",{style:{color:"#444"},children:"Click for gift"})]}),!p&&e.event&&e.event.type==="jester"&&o.jsxs("div",{style:{position:"absolute",left:"20px",top:"100px",background:"#fce4ec",padding:"10px",border:"2px solid pink",zIndex:100,cursor:"pointer",animation:"pop 0.5s",borderRadius:"8px",boxShadow:"2px 2px 5px rgba(0,0,0,0.2)"},onClick:i=>{const u=i.currentTarget.getBoundingClientRect(),m=e.gold.times(t(.1)),z=Math.random()>.5;G(`${z?"+":"-"}${g(m.floor(),e.numberFormat)} gold`,z?"win":"lose",u.left+u.width/2,u.top),r(e.event)},children:[o.jsx("div",{style:{fontSize:"1.5rem",textAlign:"center"},children:"ðŸ¤¡"}),o.jsx("div",{style:{fontWeight:"bold",color:"#000"},children:"Jester"}),o.jsx("small",{style:{color:"#444"},children:"Risk it all?"})]}),v.map(i=>o.jsx(Ce,{message:i.message,type:i.type,x:i.x,y:i.y,onComplete:()=>ce(i.id)},i.id)),A&&o.jsx(Ee,{gameState:e,onClose:()=>L(!1),onUpgrade:()=>B==null?void 0:B()}),P&&o.jsx(Be,{gameState:e,onClose:()=>x(!1),onUpgrade:()=>R==null?void 0:R()}),f.visible&&o.jsx("div",{style:{position:"fixed",left:`${f.x}px`,top:`${f.y-10}px`,transform:"translate(-50%, -100%)",background:"var(--panel-bg)",color:"var(--text-color)",padding:"8px 12px",borderRadius:"6px",border:"2px solid var(--accent-color)",fontSize:"13px",lineHeight:"1.4",whiteSpace:"pre-line",zIndex:1e4,boxShadow:"var(--shadow)",pointerEvents:"none",transition:"all 0.15s ease",maxWidth:"200px",textAlign:"center"},children:f.content})]})});export{Ae as M};
