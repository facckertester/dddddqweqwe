var m=(r,t,o)=>new Promise((d,e)=>{var a=s=>{try{n(o.next(s))}catch(c){e(c)}},i=s=>{try{n(o.throw(s))}catch(c){e(c)}},n=s=>s.done?d(s.value):Promise.resolve(s.value).then(a,i);n((o=o.apply(r,t)).next())});const C=[{id:"trillion_gold",code:"MILLION",reward:{type:"gold",value:1e12},uses:1,maxUses:1,description:"Get 1 trillion gold to boost your kingdom!",active:!0},{id:"beta_tester",code:"BETA2026",reward:{type:"betaTester",icon:"ðŸ§ª",title:"Beta Tester"},uses:1,maxUses:1,description:"Get exclusive Beta Tester icon and special leaderboard color!",active:!0},{id:"starter_pack",code:"KINGDOMSTART",reward:{type:"gold",value:1e6},uses:1,maxUses:1,description:"A small boost to start your kingdom!",active:!0},{id:"veteran",code:"VETERAN",reward:{type:"icon",icon:"â­",title:"Veteran"},uses:1,maxUses:1,description:"Veteran player icon and title!",active:!0}],l=()=>{const r=localStorage.getItem("usedPromoCodes");return r?new Set(JSON.parse(r)):new Set},p=r=>{localStorage.setItem("usedPromoCodes",JSON.stringify(Array.from(r)))};let u=class{static redeemPromoCode(t,o){const d=o.toUpperCase().trim(),e=C.find(i=>i.code===d);if(!e||!e.active||e.expiryDate&&new Date>e.expiryDate)return null;const a=l();return a.has(e.id)?null:(a.add(e.id),p(a),e.reward)}static hasPlayerUsedCode(t){return l().has(t)}static getUsedCodes(){const t=l();return Array.from(t)}static resetUsedCodes(){localStorage.removeItem("usedPromoCodes")}};class g{static redeemPromoCode(t,o){return m(this,null,function*(){return new Promise(d=>{setTimeout(()=>{const e=u.redeemPromoCode(t,o);d(e)},100)})})}static hasPlayerUsedCode(t){return u.hasPlayerUsedCode(t)}static getUsedCodes(){return u.getUsedCodes()}}export{g as P};
